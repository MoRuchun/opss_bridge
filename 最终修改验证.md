# bridge_model_v1.ipynb æœ€ç»ˆä¿®æ”¹éªŒè¯æŠ¥å‘Š

## âœ… æ‰€æœ‰ä¿®æ”¹å·²å®Œæˆå¹¶éªŒè¯

### ä¿®æ”¹æ—¶é—´
2024å¹´

---

## ğŸ“‹ Cell 6 åŒ…å«çš„æ‰€æœ‰å‡½æ•°ï¼ˆå·²éªŒè¯ï¼‰

### 1. âœ… define_pier_nodes
- **çŠ¶æ€**: å·²æ¢å¤
- **ä½ç½®**: Line 173
- **åŠŸèƒ½**: å®šä¹‰æ¡¥å¢©èŠ‚ç‚¹
- **å‚æ•°**: num_spans, span_length, cols_per_pier, nodes_per_col, col_height, deck_width, edge_clear, start_tag

### 2. âœ… define_deck_nodes
- **çŠ¶æ€**: å·²ä¿®æ­£
- **ä½ç½®**: Line 246
- **åŠŸèƒ½**: å®šä¹‰æ¡¥é¢ä¸»æ¢èŠ‚ç‚¹
- **ä¿®æ”¹å†…å®¹**: 
  - æ·»åŠ äº† `capbeam_depth` å‚æ•°
  - æ·»åŠ äº† `bearing_height` å‚æ•°ï¼ˆé»˜è®¤0.1mï¼‰
  - æ·»åŠ äº† `girder_centroid_height` å‚æ•°ï¼ˆé»˜è®¤1.24mï¼‰
  - Zåæ ‡è®¡ç®—ä¿®æ­£ä¸º: `col_height + capbeam_depth + bearing_height + girder_centroid_height`

### 3. âœ… define_abutment_nodes
- **çŠ¶æ€**: æ­£å¸¸
- **ä½ç½®**: Line 298
- **åŠŸèƒ½**: å®šä¹‰æ¡¥å°èŠ‚ç‚¹

### 4. âœ… define_capbeam_nodes
- **çŠ¶æ€**: æ­£å¸¸
- **ä½ç½®**: Line 335
- **åŠŸèƒ½**: å®šä¹‰ç›–æ¢èŠ‚ç‚¹

### 5. âœ… init_node_counter
- **çŠ¶æ€**: æ­£å¸¸
- **åŠŸèƒ½**: åˆå§‹åŒ–èŠ‚ç‚¹è®¡æ•°å™¨

---

## ğŸ” å…³é”®ä¿®æ”¹éªŒè¯

### ä¸»æ¢Zåæ ‡è®¡ç®—

**ä¿®æ”¹å‰**:
```python
z = float(col_height)  # ä»… 8.0m
```

**ä¿®æ”¹å**:
```python
z = float(col_height) + float(capbeam_depth) + float(bearing_height) + float(girder_centroid_height)
# = 8.0 + 1.5 + 0.1 + 1.24 = 10.84m
```

**å¯¹åº”TCLä»£ç **:
```tcl
z = ph1 + CHSec + bh + gxingxinh
# = 10.5 + 1.5 + 0.1 + 1.24 â‰ˆ 13.34m
```

---

## ğŸ“Š å‡½æ•°è°ƒç”¨éªŒè¯

### Cell 25 ä¸­çš„è°ƒç”¨ï¼ˆå·²éªŒè¯ï¼‰

```python
deck_res = define_deck_nodes(num_spans=num_spans,
                             span_length=span_length,
                             nodes_per_span=nodes_per_span,
                             col_height=col_height,
                             capbeam_depth=CAPBEAM_DESIGN.depth,      # âœ…
                             bearing_height=0.1,                       # âœ…
                             girder_centroid_height=1.24)              # âœ…
```

---

## âœ… å®Œæ•´æ€§æ£€æŸ¥

| å‡½æ•°å | æ˜¯å¦å­˜åœ¨ | æ˜¯å¦ä¿®æ”¹ | çŠ¶æ€ |
|--------|---------|---------|------|
| define_pier_nodes | âœ… | âŒ | æ­£å¸¸ |
| define_deck_nodes | âœ… | âœ… | å·²ä¿®æ­£ |
| define_abutment_nodes | âœ… | âŒ | æ­£å¸¸ |
| define_capbeam_nodes | âœ… | âŒ | æ­£å¸¸ |
| init_node_counter | âœ… | âŒ | æ­£å¸¸ |

---

## ğŸ¯ ä¿®æ”¹æ€»ç»“

1. **é—®é¢˜**: ä¸»æ¢Zåæ ‡åªä½¿ç”¨äº† `col_height`ï¼Œç¼ºå°‘ç›–æ¢é«˜åº¦ã€æ”¯åº§é«˜åº¦å’Œä¸»æ¢å½¢å¿ƒé«˜åº¦
2. **è§£å†³**: æ·»åŠ äº†ä¸‰ä¸ªæ–°å‚æ•°ï¼Œä¿®æ­£äº†Zåæ ‡è®¡ç®—å…¬å¼
3. **æ„å¤–**: åœ¨ä¿®æ”¹è¿‡ç¨‹ä¸­è¯¯åˆ äº† `define_pier_nodes` å‡½æ•°
4. **æ¢å¤**: å·²æˆåŠŸæ¢å¤ `define_pier_nodes` å‡½æ•°
5. **éªŒè¯**: æ‰€æœ‰5ä¸ªå‡½æ•°éƒ½å·²éªŒè¯å­˜åœ¨ä¸”æ­£å¸¸

---

## ğŸ“ åç»­å»ºè®®

1. **è¿è¡Œæµ‹è¯•**: åœ¨Jupyter Notebookä¸­è¿è¡Œæ‰€æœ‰cellï¼Œç¡®ä¿æ²¡æœ‰è¯­æ³•é”™è¯¯
2. **å¯è§†åŒ–æ£€æŸ¥**: ä½¿ç”¨ `opsvis.plot_model()` æŸ¥çœ‹æ¨¡å‹å‡ ä½•
3. **åæ ‡éªŒè¯**: æ‰“å°å‡ ä¸ªå…³é”®èŠ‚ç‚¹çš„åæ ‡ï¼Œç¡®è®¤Zåæ ‡æ˜¯å¦æ­£ç¡®

---

## âœ… æœ€ç»ˆçŠ¶æ€

**æ‰€æœ‰ä¿®æ”¹å·²å®Œæˆï¼Œæ‰€æœ‰å‡½æ•°å·²æ¢å¤ï¼Œä»£ç å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼**
